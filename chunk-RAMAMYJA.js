import{a as A}from"./chunk-6BXH6IQQ.js";import{C as V,j}from"./chunk-LC3UPVSU.js";import"./chunk-ELOAIK2V.js";import"./chunk-QUJFQN2Y.js";import"./chunk-VR5KVVOC.js";import"./chunk-3Q5GMNK6.js";import"./chunk-RS5YQJWL.js";import"./chunk-JROSCJGS.js";import"./chunk-OK2I7K27.js";import"./chunk-4CFH7RX6.js";import"./chunk-7FY2OE2O.js";import"./chunk-2QSXEBB7.js";import"./chunk-TTVFM5DY.js";import"./chunk-EZWARTTP.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-HLX4SABQ.js";import"./chunk-CKP3SGE2.js";import"./chunk-OVQHLAQL.js";import{$ as M,B as w,Da as T,F as u,I as d,J as r,K as c,L as v,R as k,S as O,T as h,_ as l,aa as y,o as b,oa as I,p as P,pa as S,rb as F,ua as z,w as E,x as s,z as C}from"./chunk-WQ2GXVAN.js";import"./chunk-IGVXFY24.js";import"./chunk-5TIAO6TV.js";import"./chunk-BANGDX2W.js";import"./chunk-FZQDFHAZ.js";import"./chunk-CLDSZD2A.js";import"./chunk-M2X7KQLB.js";import"./chunk-XTVTS2NW.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";function N(e,o){e&1&&v(0,"div",13)}function R(e,o){if(e&1&&(r(0,"h3"),l(1),c()),e&2){let n=o.$implicit;s(),M(n)}}function $(e,o){e&1&&(r(0,"p"),l(1," Fechas disponibles: "),c())}function D(e,o){if(e&1&&(r(0,"div"),l(1),c()),e&2){let n=o.$implicit;s(),y(" ",n," ")}}function K(e,o){if(e&1){let n=k();r(0,"div",6)(1,"div",7)(2,"img",8),O("error",function(i){b(n);let p=h();return P(p.onImageError(i))}),c()(),r(3,"div",9)(4,"h3"),l(5),c(),v(6,"br"),u(7,N,1,0,"div",10)(8,R,2,1,"h3",11),v(9,"br"),u(10,$,2,0,"p",12),r(11,"div",13),u(12,D,2,1,"div",11),c(),r(13,"button",14),O("click",function(){b(n);let i=h();return P(i.irACompra())}),l(14,"COMPRAR TICKET"),c()()()}if(e&2){let n=o.$implicit,t=h();s(2),d("src","http://localhost:3000/sistema_reserva/public/images/"+n.imagen_nombre,E),s(3),M(n.nombre_evento),s(2),d("ngIf",t.lugarPorEvento[n.id_evento]==null?null:t.lugarPorEvento[n.id_evento].length),s(),d("ngForOf",t.lugarPorEvento[n.id_evento]),s(2),d("ngIf",t.fechasPorEvento[n.id_evento]==null?null:t.fechasPorEvento[n.id_evento].length),s(2),d("ngForOf",t.fechasPorEvento[n.id_evento])}}var W=(()=>{let o=class o{constructor(t,i){this.router=t,this.PublicService=i,this.eventos=[],this.fechasPorEvento={},this.lugarPorEvento={}}ngOnInit(){this.PublicService.consulta_eventos().subscribe(t=>{let i=t.value,p=i.filter((m,a,x)=>a===x.findIndex(_=>_.id_evento===m.id_evento));localStorage.setItem("Eventos",JSON.stringify(p));let f={},g={};i.forEach(m=>{let a=m.id_evento,x=m.fecha,_=m.nombre_lugar;f[a]||(f[a]=[]),g[a]||(g[a]=[]),f[a].includes(x)||f[a].push(x),g[a].includes(_)||g[a].push(_)}),this.eventos=p,this.fechasPorEvento=f,this.lugarPorEvento=g})}onImageError(t){t.target.src="assets/images/error.jpg"}irACompra(){this.router.navigate(["/tabs-user/compra"])}};o.\u0275fac=function(i){return new(i||o)(C(T),C(A))},o.\u0275cmp=w({type:o,selectors:[["app-explorar"]],decls:8,vars:1,consts:[[1,"main-content"],[1,"titulo"],[1,"eventos-section"],[1,"section-title"],[1,"fila-eventos"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"imagen-container"],["alt","Imagen del evento",3,"error","src"],[1,"info"],["class","fechas-lista",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"fechas-lista"],[1,"btn-ticket",3,"click"]],template:function(i,p){i&1&&(r(0,"ion-content",0)(1,"h1",1),l(2,"TICKETMAGIC"),c(),r(3,"section",2)(4,"h2",3),l(5,"Eventos disponibles"),c(),r(6,"div",4),u(7,K,15,6,"div",5),c()()()),i&2&&(s(7),d("ngForOf",p.eventos))},dependencies:[z,I,S,F,V,j],styles:[".main-content[_ngcontent-%COMP%]{--background: #0f0f17;color:#fff;display:flex;justify-content:center;align-items:center}.titulo[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;text-align:center;color:#fff}.section-title[_ngcontent-%COMP%]{font-size:1.5rem;margin:20px 0;text-align:center;color:#fff}.fila-eventos[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:center}.card[_ngcontent-%COMP%]{background-color:#ffffff0a;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-radius:16px;padding:15px;width:250px;box-shadow:0 4px 12px #0000004d;text-align:center;color:#fff}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:contain;background-color:#1e1e1e;border-radius:10px 10px 0 0}.imagen-container[_ngcontent-%COMP%]{width:100%;height:200px;overflow:hidden;border-radius:10px 10px 0 0}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;margin:10px 0 5px;font-weight:700;word-wrap:break-word}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;margin:2px 0}.btn-ticket[_ngcontent-%COMP%]{margin-top:10px;padding:10px 20px;background-color:#7c3aed;color:#fff;border:none;border-radius:12px;cursor:pointer;font-weight:600;font-size:.9rem;transition:background-color .3s ease}.btn-ticket[_ngcontent-%COMP%]:hover{background-color:#5c27d1}.fechas-lista[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}@media (max-width: 768px){.card[_ngcontent-%COMP%]{width:45%}.titulo[_ngcontent-%COMP%]{font-size:1.6rem}.section-title[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.card[_ngcontent-%COMP%]{width:90%}.titulo[_ngcontent-%COMP%]{font-size:1.4rem}.section-title[_ngcontent-%COMP%]{font-size:1.1rem}.btn-ticket[_ngcontent-%COMP%]{padding:8px 16px;font-size:.85rem}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.95rem}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}.auth-buttons[_ngcontent-%COMP%]{position:absolute;bottom:15px;width:100%;display:flex;justify-content:center;gap:10px}.auth-btn[_ngcontent-%COMP%]{background-color:#7c3aed;border:none;padding:10px 20px;border-radius:12px;color:#fff;font-weight:700;cursor:pointer}.auth-btn[_ngcontent-%COMP%]:hover{background-color:#5c27d1}.user-icon[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;background-color:#7c3aed;color:#fff;font-weight:700;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer}.user-menu[_ngcontent-%COMP%]{position:absolute;top:60px;right:15px;background-color:#1e1e2e;border-radius:12px;box-shadow:0 2px 8px #0000004d;z-index:100;display:flex;flex-direction:column}.user-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;color:#fff;padding:10px 20px;text-align:left;cursor:pointer}.user-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#7c3aed}}"]});let e=o;return e})();export{W as ExplorarPage};
