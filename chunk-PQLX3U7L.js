import{a as O}from"./chunk-6BXH6IQQ.js";import{a as P,b as y,c as S}from"./chunk-JYYXFAZ3.js";import{C as M,j as _,m as C,x}from"./chunk-LC3UPVSU.js";import"./chunk-ELOAIK2V.js";import"./chunk-QUJFQN2Y.js";import"./chunk-VR5KVVOC.js";import"./chunk-3Q5GMNK6.js";import"./chunk-RS5YQJWL.js";import"./chunk-JROSCJGS.js";import"./chunk-OK2I7K27.js";import"./chunk-4CFH7RX6.js";import"./chunk-7FY2OE2O.js";import"./chunk-2QSXEBB7.js";import"./chunk-TTVFM5DY.js";import"./chunk-EZWARTTP.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-HLX4SABQ.js";import"./chunk-CKP3SGE2.js";import"./chunk-OVQHLAQL.js";import{B as b,I as p,J as c,K as m,L as l,ua as v,x as f,z as h}from"./chunk-WQ2GXVAN.js";import"./chunk-IGVXFY24.js";import"./chunk-5TIAO6TV.js";import"./chunk-BANGDX2W.js";import"./chunk-FZQDFHAZ.js";import"./chunk-CLDSZD2A.js";import"./chunk-M2X7KQLB.js";import"./chunk-XTVTS2NW.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{a as g,b as u}from"./chunk-JHI3MBHO.js";var H=(()=>{let t=class t{constructor(i){this.PublicService=i,this.eventos=[],this.calendarOptions={plugins:[S],initialView:"dayGridMonth",events:[],timeZone:"America/Guayaquil",contentHeight:"auto",headerToolbar:{left:"prev,next today",center:"title",right:""}}}ngOnInit(){this.PublicService.consulta_eventos().subscribe(i=>{let n=i?.value??[],r=new Set,a=n.filter(e=>{let o=String(e.id_fecha??e.id_fechas??"");return!o||r.has(o)?!1:(r.add(o),!0)});console.log("Fechas \xFAnicas por id_fecha:",a),this.eventos=a,localStorage.setItem("Eventos",JSON.stringify(a));let w=a.map(e=>{let o=e.fecha,d=(e.hora||"").toString().slice(0,5),I=d?`${o}T${d}`:o;return{id:`${e.id_evento}-${e.id_fecha??e.id_fechas}`,title:e.nombre_evento,start:I,allDay:!d,extendedProps:{id_evento:Number(e.id_evento),nombre_lugar:e.nombre_lugar,nombre_artista:e.nombre_artista}}});this.calendarOptions=u(g({},this.calendarOptions),{events:w})})}};t.\u0275fac=function(n){return new(n||t)(h(O))},t.\u0275cmp=b({type:t,selectors:[["app-calendario"]],decls:6,vars:2,consts:[["color","white"],[1,"ion-padding",3,"fullscreen"],[1,"historial-title"],[1,"calendar-container"],[3,"options"]],template:function(n,r){n&1&&(c(0,"ion-header"),l(1,"ion-toolbar",0),m(),c(2,"ion-content",1),l(3,"div",2),c(4,"div",3),l(5,"full-calendar",4),m()()),n&2&&(f(2),p("fullscreen",!0),f(3),p("options",r.calendarOptions))},dependencies:[v,M,_,C,x,y,P],styles:["ion-content[_ngcontent-%COMP%]{--background: linear-gradient(to bottom, #0f0f1a, #1a1a2e)}ion-toolbar[_ngcontent-%COMP%]{--background: #0f0f1a;--color: #ffffff}ion-title[_ngcontent-%COMP%]{color:#fff;font-weight:700}.historial-title[_ngcontent-%COMP%]{text-align:center;margin-top:16px;margin-bottom:24px}.historial-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:26px;font-weight:700;color:#fff;align-content:center}.calendar-container[_ngcontent-%COMP%]{background-color:#1e1e2e;padding:20px;border-radius:16px;max-width:800px;margin:30px auto;box-shadow:0 4px 12px #00000080;color:#fff}.fc[_ngcontent-%COMP%]{background-color:transparent;color:#fff}.fc[_ngcontent-%COMP%]   .fc-toolbar-title[_ngcontent-%COMP%], .fc[_ngcontent-%COMP%]   .fc-daygrid-day-number[_ngcontent-%COMP%]{color:#fff}.fc-event[_ngcontent-%COMP%]{background-color:#7c3aed;border:none;border-radius:6px;padding:2px 4px;font-size:12px}"]});let s=t;return s})();export{H as CalendarioPage};
